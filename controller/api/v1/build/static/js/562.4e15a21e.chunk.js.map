{"version":3,"file":"static/js/562.4e15a21e.chunk.js","mappings":"wJAeA,IAb4B,SAAC,GAA6C,IAA3CA,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,GAAIC,EAAc,EAAdA,QACzD,OACE,SAAC,IAAD,CACEJ,MAAOA,EACPE,MAAOA,GAAgB,OACvBC,GAAIA,EACJC,QAASA,EAJX,SAMGH,M,2ICyHP,UA3HwB,WACtB,OAAwBI,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAIC,EAAS,4CAETC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,IAAYC,eACdF,EAASC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,aAAe,qCAWpCC,IAAAA,IACOH,EAAS,iBACbI,MAAK,SAAAC,GACJP,EAAQO,EAASR,SAElBS,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,QAE/B,IAEH,IAAMG,EAAkB,yCAAG,yFACrBV,EAAS,2CAETC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,eACdF,EAASC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,aAAe,qCAJb,4DAqBjBS,EAAAA,GAAAA,QACJR,IAAAA,IACOH,EAAS,iBACbI,MAAK,SAAAC,GACJP,EAAQO,EAASR,MACjBc,EAAAA,GAAAA,QAAc,6BAEfL,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MAC9B,CACEK,QAAS,kBA9BU,2CAAH,qDAoCxB,OACE,gBAAKC,MAAO,CAAEC,OAAQ,QAAtB,UACE,SAAC,KAAD,CACED,MAAO,CAAEE,QAAS,QAClBC,OACE,SAAC,IAAD,CACErB,QAAQ,KACRD,GAAI,CAAEuB,eAAgB,aAFxB,yBAOFpB,KAAMA,EACNqB,QAAS,CACP,CACEF,OAAO,SAAC,IAAD,CAAqBrB,QAAQ,KAA7B,kBACPwB,MAAO,eAET,CACEH,OACE,SAAC,IAAD,CAAqBrB,QAAQ,KAA7B,0BAIFwB,MAAO,aACPC,KAAM,YAER,CACEJ,OACE,SAAC,IAAD,CAAqBrB,QAAQ,KAA7B,2BAIFwB,MAAO,iBAET,CACEH,OACE,SAAC,IAAD,CAAqBrB,QAAQ,KAA7B,8BAIFwB,MAAO,UAGXE,QAAS,CACP,CACEC,KAAM,kBAAM,SAAC,IAAD,KACZC,QAAS,sBACTC,cAAc,EACdC,QAAS,kBAAMf,OAGnBgB,QAAS,CACPC,oBAAqB","sources":["components/Typography.jsx","pages/Connection/index.jsx"],"sourcesContent":["import { Typography } from '@mui/material'\n\nconst TypographyComponent = ({ align, children, color, sx, variant }) => {\n  return (\n    <Typography\n      align={align}\n      color={color ? color : '#777'}\n      sx={sx}\n      variant={variant}\n    >\n      {children}\n    </Typography>\n  )\n}\n\nexport default TypographyComponent\n","import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport MaterialTable from '@material-table/core'\nimport { Refresh as RefreshIcon } from '@mui/icons-material'\nimport { toast } from 'react-toastify'\n// components\nimport TypographyComponent from '../../components/Typography'\n\nconst ConnectionsPage = () => {\n  const [data, setData] = useState([])\n\n  useEffect(() => {\n    let apiURL = '/api/v1/cornerstone/verifier/connections'\n\n    if (process.env.API_BASE_URL) {\n      apiURL = process.env.API_BASE_URL + '/cornerstone/verifier/connections'\n    }\n\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n      axios\n        .get(process.env.REACT_APP_API_URL + 'connections?state=active')\n        .then(response => {\n          setData(response.data)\n        })\n        .catch(error => console.log(error))\n    } else {\n      axios\n        .get(apiURL + '?state=active')\n        .then(response => {\n          setData(response.data)\n        })\n        .catch(error => console.log(error))\n    }\n  }, [])\n\n  const refreshConnections = async () => {\n    let apiURL = '/api/v1/cornerstone/verifier/connections'\n\n    if (process.env.API_BASE_URL) {\n      apiURL = process.env.API_BASE_URL + '/cornerstone/verifier/connections'\n    }\n\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n      await toast.promise(\n        axios\n          .get(process.env.REACT_APP_API_URL + 'connections?state=active')\n          .then(response => {\n            setData(response.data)\n            toast.success('Refreshed connections!')\n          })\n          .catch(error => console.log(error)),\n        {\n          pending: 'Refreshing...',\n        }\n      )\n    } else {\n      await toast.promise(\n        axios\n          .get(apiURL + '?state=active')\n          .then(response => {\n            setData(response.data)\n            toast.success('Refreshed connections!')\n          })\n          .catch(error => console.log(error)),\n        {\n          pending: 'Refreshing...',\n        }\n      )\n    }\n  }\n\n  return (\n    <div style={{ margin: '2rem' }}>\n      <MaterialTable\n        style={{ padding: '1rem' }}\n        title={\n          <TypographyComponent\n            variant=\"h5\"\n            sx={{ textDecoration: 'underline' }}\n          >\n            Connections\n          </TypographyComponent>\n        }\n        data={data}\n        columns={[\n          {\n            title: <TypographyComponent variant=\"h6\">Name</TypographyComponent>,\n            field: 'their_label',\n          },\n          {\n            title: (\n              <TypographyComponent variant=\"h6\">\n                Connected On\n              </TypographyComponent>\n            ),\n            field: 'created_at',\n            type: 'datetime',\n          },\n          {\n            title: (\n              <TypographyComponent variant=\"h6\">\n                Connection ID\n              </TypographyComponent>\n            ),\n            field: 'connection_id',\n          },\n          {\n            title: (\n              <TypographyComponent variant=\"h6\">\n                Connection State\n              </TypographyComponent>\n            ),\n            field: 'state',\n          },\n        ]}\n        actions={[\n          {\n            icon: () => <RefreshIcon />,\n            tooltip: 'Refresh connections',\n            isFreeAction: true,\n            onClick: () => refreshConnections(),\n          },\n        ]}\n        options={{\n          actionsColumnIndex: -1,\n        }}\n      />\n    </div>\n  )\n}\n\nexport default ConnectionsPage\n"],"names":["align","children","color","sx","variant","useState","data","setData","useEffect","apiURL","process","API_BASE_URL","axios","then","response","catch","error","console","log","refreshConnections","toast","pending","style","margin","padding","title","textDecoration","columns","field","type","actions","icon","tooltip","isFreeAction","onClick","options","actionsColumnIndex"],"sourceRoot":""}